page_count:
  url: "http://page_count.kevsrobots.com/all-visits"
  format: "json"
  expect_schema:
    url: string
    ip: string
    user_agent: string
    timestamp: datetime
  partitions:
    - dt
  normalize:
    tz: "UTC"
  primary_key:
    - timestamp
    - ip
    - url
  # Optionally normalize IP last octet (temporary workaround while proxy forwarding is fixed)
  # ip_force_last_octet: 4

search_logs:
  url: "_tmp_downloads/search_logs_csv/"
  format: "csv"
  expect_schema:
    timestamp: datetime
    ip: string
    query: string
  partitions:
    - dt
  normalize:
    tz: "UTC"
  primary_key:
    - timestamp
    - ip
    - query


  # ...existing config...

# GeoIP sources for country-level enrichment
# geoip_blocks:
#   url: "file://data/geoip/GeoLite2-Country-Blocks-IPv4.csv"
#   format: "csv"
#   expect_schema:
#     network: string
#     geoname_id: string
#     registered_country_geoname_id: string
#     represented_country_geoname_id: string
#     is_anonymous_proxy: int
#     is_satellite_provider: int
#     # ...other columns as needed...
#   partitions: []

# geoip_locations:
#   url: "file://data/geoip/GeoLite2-Country-Locations-en.csv"
#   format: "csv"
#   expect_schema:
#     geoname_id: string
#     locale_code: string
#     continent_code: string
#     continent_name: string
#     country_iso_code: string
#     country_name: string
#     # ...other columns as needed...
#   partitions: []